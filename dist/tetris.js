B=[[[[0,1,1],[1,1]],[[1,0],[1,1],[0,1]]],[[[1,1],[0,1,1]],[[0,1],[1,1],[1]]],[[[1,1],[1,1]]],[[[1,1],[0,1],[0,1]],[[0,0,1],[1,1,1]],[[1],[1],[1,1]],[[1,1,1],[1]]],[[[1,1],[1],[1]],[[1,1,1],[0,0,1]],[[0,1],[0,1],[1,1]],[[1],[1,1,1]]],[[[1],[1],[1],[1]],[[1,1,1,1]]],[[[0,1],[1,1,1]],[[1],[1,1],[1]],[[1,1,1],[0,1]],[[0,1],[1,1],[0,1]]]];b=B[(M=Math)[f="floor"](M[f](7*M.random()))],P={x:12,y:0},i=0,g=[],G=[],L="length",I=setInterval(function(a,c,d,e,h,j,k,l,m){for(b[i]||(i=0),d=b[i],h=0;24>h;h++)for(g[h]=[],G[h]||(G[h]=[]),e=0;30>e;e++)g[h][e]=G[h][e];for(l={},h=0;24>h;h++)for(l[h]=1,e=0;30>e;e++){if(e==P.x&&h==P.y)for(j=0;j<d[L];j++)for(k=0;k<d[j][L];k++)d[j][k]&&(g[h+j][e+k]=d[j][k],G[h+j+1]&&G[h+j+1][e+k]&&(c=1));g[h][e]||delete l[h]}for(a="",h=0;24>h;h++){for(e=0;30>e;e++)a+=g[h][e]?"X":" ";a+="\n"}p.innerHTML=a,P.y++,(P.y+d[L]==25||c)&&(b=B[M[f](M[f](7*M.random()))],P.x=12,P.y=i=0,G=g.slice(0));for(m in l){for(h=m;h>0;h--)g[h]=g[h-1]?g[h-1]:[];G=g.slice(0)}},100),onkeydown=function(a,b){b=a.keyCode,39==b?P.x++:37==b?P.x--:38==b&&i++};